!function(a){"use strict";const i={page:1,limit:10,total:0,pageTotal:1,pageShow:3,clickFun:null,min:1,max:3,visible:["start","end","last","next","number","left","right"]};function e(e,t){this.options=a.extend(!1,i,t),this.element=e}e.prototype={init:function(){const i=this,e=i.element,t=i.options;i.refresh(),e.on("click",".page-start:not(.disabled)",function(){!function(){if(1===t.page)return;t.page=1,a.isFunction(t.clickFun)&&t.clickFun(t.page,t.limit,t.total,t.pageTotal,t.pageShow);i.refresh()}()}),e.on("click",".page-end:not(.disabled)",function(){!function(){if(t.page===t.pageTotal)return;t.page=t.pageTotal,a.isFunction(t.clickFun)&&t.clickFun(t.page,t.limit,t.total,t.pageTotal,t.pageShow);i.refresh()}()}),e.on("click",".page-number:not(.disabled)",function(){!function(e){if(e===t.page)return;t.page=e,a.isFunction(t.clickFun)&&t.clickFun(t.page,t.limit,t.total,t.pageTotal,t.pageShow);i.refresh()}(Number(a(this).attr("data-page")))}),e.on("click",".page-last:not(.disabled)",function(){!function(){if(t.page<=1)return;t.page=t.page-1,a.isFunction(t.clickFun)&&t.clickFun(t.page,t.limit,t.total,t.pageTotal,t.pageShow);i.refresh()}()}),e.on("click",".page-next:not(.disabled)",function(){!function(){if(t.page>=t.pageTotal)return;t.page=t.page+1,a.isFunction(t.clickFun)&&t.clickFun(t.page,t.limit,t.total,t.pageTotal,t.pageShow);i.refresh()}()}),e.on("click",".page-left:not(.disabled)",function(){!function(){if(t.min<=t.pageShow)return;t.max=t.min-1,t.min=t.min-t.pageShow,i.render()}()}),e.on("click",".page-right:not(.disabled)",function(){!function(){if(t.min+t.pageShow>t.pageTotal)return;t.min=t.min+t.pageShow,t.max=Math.min(t.min+t.pageShow-1,t.pageTotal),i.render()}()})},update:function(i){a.extend(!0,this.options,i),this.refresh()},refresh:function(){this.minmax(),this.render()},minmax:function(){const a=this.options;if(a.pageTotal=Math.ceil(a.total/a.limit),a.pageTotal<=0)return a.page=1,a.pageTotal=1,a.min=1,void(a.max=1);if(a.page>a.pageTotal)return a.min=1,void(a.max=Math.min(a.pageShow,a.pageTotal));const i=a.page%a.pageShow;a.min=0===i?a.page-(a.pageShow-1):a.page-(i-1),a.max=Math.min(a.min+a.pageShow-1,a.pageTotal)},render:function(){const a=this.element,i=this.options,e=i.visible;let t=[];if(t.push("<ul>"),e.includes("start")&&(1===i.page?t.push('<li class="page-start disabled"><a href="javascript:void(0);">First</a></li>'):t.push('<li class="page-start"><a href="javascript:void(0);">First</a></li>')),e.includes("last")&&(1===i.page?t.push('<li class="page-last disabled"><a href="javascript:void(0);">Prev</a></li>'):t.push('<li class="page-last"><a href="javascript:void(0);">Prev</a></li>')),e.includes("left")&&(1===i.min?t.push('<li class="page-left disabled"><a href="javascript:void(0);">&lt;</a></li>'):t.push('<li class="page-left"><a href="javascript:void(0);">&lt;</a></li>')),e.includes("number"))for(let a=i.min;a<=i.max;a++)a===i.page?t.push('<li class="page-number on disabled" data-page="'+a+'"><a href="javascript:void(0);">'+a+"</a></li>"):t.push('<li class="page-number" data-page="'+a+'"><a href="javascript:void(0);">'+a+"</a></li>");e.includes("right")&&(i.max===i.pageTotal?t.push('<li class="page-right disabled"><a href="javascript:void(0);">&gt;</a></li>'):t.push('<li class="page-right"><a href="javascript:void(0);">&gt;</a></li>')),e.includes("next")&&(i.page===i.pageTotal?t.push('<li class="page-next disabled"><a href="javascript:void(0);">Next</a></li>'):t.push('<li class="page-next"><a href="javascript:void(0);">Next</a></li>')),e.includes("end")&&(i.page===i.pageTotal?t.push('<li class="page-end disabled"><a href="javascript:void(0);">Last</a></li>'):t.push('<li class="page-end"><a href="javascript:void(0);">Last</a></li>')),t.push("</ul>"),a.html(t.join(""))}},a.fn.pagination=function(i){const t=arguments;return this.each(function(){const n=a(this);let l=n.data("pagination");l||((l=new e(n,i)).init(),n.data("pagination",l)),"string"==typeof i&&l[i].apply(l,Array.prototype.slice.call(t,1))})}}($);
